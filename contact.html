<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Contact — Cruise Learn</title>
  <link rel="stylesheet" href="css/styles.css?v=2025-09-28">
  <style>
    /* Small, local styles for the form (work with your theme variables) */
    .contact-card{
      max-width: 720px;
      margin: 1rem 0 1rem 0;
      padding: 0;
      box-shadow: 0 1px 2px rgba(0,0,0,.06);
    }
    .contact-card h2{margin: .25rem 0 1rem; font-size: 1.4rem; }
    .contact-card p.lead{ color: var(--muted, #9aa1a9); margin: .25rem 0 1rem; }
    form.contact-form{ display: grid; gap: .75rem; }
    .grid-2{ display: grid; grid-template-columns: 1fr 1fr; gap: .75rem; }
    @media (max-width:720px){ .grid-2{ grid-template-columns: 1fr; } }
    label{ font-weight: 600; font-size: .95rem; }
    input[type="text"], input[type="email"], textarea{
      width: 100%; border: 1px solid var(--border, #2a2a2a);
      color: inherit; border-radius: 4px; padding: .6rem .7rem; outline: none;
    }
    textarea{ min-height: 140px; resize: vertical; }
    .actions{ display: flex; align-items: center; gap: .75rem; }
    .btn{
      display: inline-flex; align-items: center; justify-content: center; gap: .5rem;
      padding: .6rem .9rem; border-radius: 10px; border: 1px solid var(--border, #2a2a2a);
      background: var(--panel, #111); cursor: pointer; font-weight: 600;
    }
    .btn[disabled]{ opacity:.6; cursor:not-allowed; }
    .note{ font-size: .9rem; color: var(--muted, #9aa1a9); }
    .status{ font-size: .95rem; }
    .status.ok{ color: #2ecc71; }
    .status.err{ color: #ff6b6b; }
    /* hide honeypot and helpers */
    .hp-wrap{ position: absolute; left:-10000px; width:1px; height:1px; overflow:hidden; }
  </style>
</head>
<body>
  <div class="page_header">
    <h1>Cruise Learn</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="help.html">Help</a>
      <a href="editor.html">Content Editor</a>
      <a href="privacy.html">Privacy</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>

  <main>
    <h2>Contact us</h2>
    <p>Have a question, bug report or partnership idea? Send us a message below.</p>
    <div class="contact-card" role="form" aria-labelledby="contact-title">
      <form id="contact-form" class="contact-form" action="https://api.web3forms.com/submit" method="POST" novalidate>
        <input type="hidden" name="access_key" value="7b2de2fe-0857-45bf-9f59-433cc706a293">
        <input type="hidden" name="project" value="Cruise Learn Website">
        <input type="hidden" name="referrer" id="referrer-field" value="">
        <div class="hp-wrap" aria-hidden="true">
          <label>Leave this field empty: <input type="text" name="website" tabindex="-1" autocomplete="off"></label>
        </div>
        <div class="grid-2">
          <div>
            <label for="name">Your name</label>
            <input type="text" id="name" name="name" placeholder="John Doe" autocomplete="name" required>
          </div>
          <div>
            <label for="email">Your email</label>
            <input type="email" id="email" name="email" placeholder="john@example.com" autocomplete="email" required>
          </div>
        </div>
        <div>
          <label for="subject">Subject</label>
          <input type="text" id="subject" name="subject" placeholder="Question about the Android app">
        </div>
        <div>
          <label for="message">Message</label>
          <textarea id="message" name="message" placeholder="Briefly describe your question or idea" required></textarea>
        </div>
        <div class="h-captcha" data-captcha="true"></div>
        <div class="actions">
          <button class="btn" id="send-btn" type="submit" disabled>Send</button>
          <span class="note">Protected by hCaptcha • spam-free</span>
        </div>
        <div id="form-status" class="status" aria-live="polite" role="status"></div>
      </form>
    </div>
    <p>
      Or email us directly: <a href="mailto:cruiselearnapp@gmail.com">cruiselearnapp@gmail.com</a>
    </p>
    <p>
      Wanna be a tester and get early releases? Welcome to our <a href="https://play.google.com/apps/testing/com.cruiselearn">Beta Test Program</a>.
    </p>
    <p>
Do you have a Github login? You can also submit a bug report/feature request/question here: <a href="https://github.com/obolibok/CruiseLearnSite/issues/new/choose">our repository</a>.
    </p>
  </main>

  <footer>
    <p>© 2025 Cruise Learn</p>
  </footer>

  <script>
    // fill referrer
    document.getElementById('referrer-field').value = location.href;

    const form = document.getElementById('contact-form');
    const btn  = document.getElementById('send-btn');
    const box  = document.getElementById('form-status');

    // time trap: allow submit 2s after load
    let timeOk = false;
    setTimeout(()=>{ timeOk = true; maybeEnable(); }, 2000);

    // enable button only when fields are filled
    const maybeEnable = () => {
      const ok = timeOk && form.name.value.trim() && form.email.value.trim() && form.message.value.trim();
      btn.disabled = !ok;
    };
    form.addEventListener('input', maybeEnable);

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      box.textContent = '';
      btn.disabled = true;
      if (!form.reportValidity()) { btn.disabled = false; return; }
      try {
        const DEFAULT_SUBJECT = 'New message from Cruise Learn site';
        const fd = new FormData(form);
        if (!fd.get('h-captcha-response')) {
          box.textContent = 'Please complete the hCaptcha to continue.';
          box.className = 'status err';
          btn.disabled = false;
          return;
        }
        const s = fd.get('subject');
        if (!s || !String(s).trim()) {
          fd.set('subject', DEFAULT_SUBJECT);
        }
        const resp = await fetch(form.action, { method: 'POST', body: fd });
        const data = await resp.json().catch(() => ({}));
        if (resp.ok && (data.success === true || data.message)) {
          box.textContent = 'Thanks! Your message has been sent. We will reply to your email.';
          box.className = 'status ok';
          form.reset();
          if (window.hcaptcha && typeof hcaptcha.reset === 'function') {
            if (window.hcaptcha && typeof hcaptcha.reset === "function") { hcaptcha.reset(); }
          }
        } else {
          throw new Error(data.message || 'Failed to send the form.');
        }
      } catch (err) {
        box.textContent = 'Error: ' + err.message + ' Please try again later.';
        box.className = 'status err';
      } finally {
        btn.disabled = false;
        maybeEnable();
      }
    });
  </script>
  <script src="https://web3forms.com/client/script.js" async defer></script>
</body>
</html>
